fmd("preload",["global","lang","event","when","request","loader"],function(e,n,t,r,i,o){var u=e.document,c="async"in u.createElement("script")||"MozAppearance"in u.documentElement.style||e.opera,a="text/cache-javascript",l="preloading",s="preloaded";t.on("createNode",function(e,n){n.isPreload&&(e.async=!1,e.defer=!1,!c&&(e.type=a))}),t.on("request",function(e,n){e.preState&&(e.preState===l?(e.onpreload.push(function(){o(e,n)}),delete e.state,e.requested=!0):(delete e.requested,delete e.isPreload))});var f=function(e){e.preState||(e.preState=l,e.onpreload=[],i(e,function(){e.preState=s,n.forEach(e.onpreload,function(e){e()})}))},d=function(e,t){r.apply(null,n.map(e,function(e){return function(n){e.isPreload=!0,o(e,function(){n.resolve()})}})).then(t)},p=function(e,t){var r=e.slice(1);r.length?(n.forEach(e,function(e){e.isPreload||(e.isPreload=!0,f(e))}),o(e[0],function(){g(r,t)})):o(e[0],t)},g=function(e,n){g=c?d:p,g(e,n)};return g});