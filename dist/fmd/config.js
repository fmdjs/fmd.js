fmd("config",["env","cache","lang"],function(k,d,f){var g=d.config={},h=d.configRules={},p=0,c={get:function(a){return g[a]},set:function(a){for(var b in a){var e=a[b],c=g[b],d=b,k=e,l=!1,m=void 0,n=void 0;for(n in h)if(l)break;else m=h[n],l=-1<f.inArray(m.keys,d)&&void 0===m.rule.call(g,c,d,k);l||(g[b]=e)}},register:function(a){var b;f.isFunction(a.rule)&&(a.name||(a.name="_rule_"+p++),b=h[a.name]={rule:a.rule,keys:[]});b||(b=h[a.name]);b&&a.keys&&(f.isArray(a.keys)?b.keys=b.keys.concat(a.keys):
b.keys.push(a.keys));return this}};c.register({name:"object",rule:function(a,b,e){if(a)for(var c in e)a[c]=e[c];else return!1}}).register({name:"array",rule:function(a,b,c){a?a.push(c):this[b]=[c]}});k.config=function(a){if(f.isString(a))return c.get(a);c.set(a)};return c});
