fmd("config",["env","cache","lang"],function(n,e,t){var r=e.config={},i=e.configRules={},u="_rule_",o=0,c=function(n,e,u){var o,c=!1;for(var s in i){if(c)break;o=i[s],c=t.inArray(o.keys,e)>-1&&void 0===o.rule.call(r,n,e,u)}return c},s={get:function(n){return r[n]},set:function(n){for(var e in n){var t=r[e],i=n[e];c(t,e,i)||(r[e]=i)}},register:function(n){var e;return t.isFunction(n.rule)&&(n.name||(n.name=u+o++),e=i[n.name]={rule:n.rule,keys:[]}),e||(e=i[n.name]),e&&n.keys&&(t.isArray(n.keys)?e.keys=e.keys.concat(n.keys):e.keys.push(n.keys)),this}};return s.register({name:"object",rule:function(n,e,t){if(!n)return!1;for(var r in t)n[r]=t[r]}}).register({name:"array",rule:function(n,e,t){n?n.push(t):this[e]=[t]}}),n.config=function(n){return t.isString(n)?s.get(n):(s.set(n),void 0)},s});