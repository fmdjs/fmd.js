fmd("module",["global","env","cache","lang","event"],function(e,t,n,r,i){var o,u="",c=[],a="_!_fmd_anonymous_",s=0,l=n.modules={},f={require:function(e){return e.require||d.makeRequire(e),i.emit("makeRequire",e.require,e),e.require},exports:function(e){return e.exports},module:function(e){return e.module={id:e.id,exports:e.exports},e.module}},d=function(e,t,n){var r=this;r.id=e,r.deps=t||[],r.factory=n,r.exports={},r.unnamed()&&(e=a+s,s++),r.uid=e};d.prototype={unnamed:function(){return this.id===u},extract:function(){var e=this,t=e.deps,n=[];return r.isArray(t)&&r.forEach(t,function(t){var r,i;(i=f[t])?r=i(e):(e.require||d.makeRequire(e),r=e.require(t)),n.push(r)}),n},compile:function(){var e=this;try{if(r.isFunction(e.factory)){var t=e.extract(),n=e.factory.apply(null,t);n!==o?e.exports=n:e.module&&e.module.exports&&(e.exports=e.module.exports),e.module&&delete e.module}else e.factory!==o&&(e.exports=e.factory);i.emit("compiled",e)}catch(u){i.emit("compileFailed",u,e)}},autocompile:function(){this.unnamed()&&this.compile()}},d.get=function(e){return l[e]},d.has=function(e,t){if(f[e])return!0;var n={id:e};return t&&i.emit("alias",n),l[n.id]?!0:!1},d.save=function(e){l[e.uid]=e,i.emit("saved",e),e.autocompile()},d.require=function(e){var t=d.get(e);return t?(t.compiled||(t.compiled=!0,t.compile()),i.emit("required",t),t.exports):(i.emit("requireFailed",{id:e}),null)},d.makeRequire=function(e){e.require=function(t){var n={id:t};return i.emit("relative",n,e),i.emit("alias",n),d.require(n.id)}},d.define=function(e,t,n){var o=arguments.length;return 1===o?(n=e,e=u):2===o&&(n=t,t=c,r.isString(e)||(t=e,e=u)),d.has(e,!0)?(i.emit("existed",{id:e}),null):(d.save(new d(e,t,n)),void 0)};var m=e.define;return t.noConflict=function(){e.define=m},t.define=e.define=d.define,d});